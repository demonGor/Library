@model LibraryDataEF.BOOKS_GENRES

@{
    IEnumerable<LibraryDataEF.BOOKS> CmpList1 = ViewBag.CmpList1;
    IEnumerable<LibraryDataEF.GENRES> CmpList2 = ViewBag.CmpList2;
    ViewBag.Title = "Додавання жанру до книги " + ViewBag.Book;
}

<h2>@ViewBag.Title</h2>

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.BG_BK, "Книга", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.BG_BK, CmpList1.Select(z => new SelectListItem() { Text = z.BK_NAME, Value = (z.BK_ID).ToString(), Selected = true }), new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.BG_BK, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.BG_GN, "Жанр", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.BG_GN, CmpList2.Select(b => new SelectListItem() { Text = b.GN_NAME, Value = (b.GN_ID).ToString(), Selected = true }), new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.BG_GN, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Додати" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Назад", "Details","BOOK",new { id = CmpList1.First().BK_ID },null)
</div>
